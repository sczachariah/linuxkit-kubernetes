# The container definition we want to use for developing our app

build:
  box: oraclelinux:7.3
  steps:
   - script:
      name: Download & Install GO
      code: |

       sudo yum install tar wget -y
       sudo yum clean all

       export VERSION=1.9.2
       export OS=linux
       export ARCH=amd64
       export INSTALLS_HOME=/usr/local
       wget https://dl.google.com/go/go$VERSION.$OS-$ARCH.tar.gz

       mkdir -p $INSTALLS_HOME/go
       tar -C $INSTALLS_HOME/go -xzf go1.9.2.linux-amd64.tar.gz

       export GOROOT=$INSTALLS_HOME/go$VERSION/go
       export GOPATH=$HOME/go
       export GOBIN=$GOPATH/bin
       export PATH=$GOPATH:$GOBIN:$PATH

       go version;

   - script:
      name: install dependencies
      code: |

       go get -u github.com/linuxkit/linuxkit/src/cmd/linuxkit
       cp -r /scratch/fmwplt/go/bin/linuxkit /bin/linuxkit
       chmod 755 /bin/linuxkit


       git clone https://github.com/linuxkit/kubernetes.git
       cd /scratch/fmwplt/go/src/kubernetes
       make all

       KUBE_MASTER_AUTOINIT="" ./boot.sh

       kubectl get nodes









